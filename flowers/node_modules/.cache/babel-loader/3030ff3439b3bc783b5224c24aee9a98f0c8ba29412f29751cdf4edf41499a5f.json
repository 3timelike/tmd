{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: \"calenderHappy\",\n  data() {\n    return {\n      weekArr: [\"日\", \"一\", \"二\", \"三\", \"四\", \"五\", \"六\"],\n      // 星期数组\n      dataArr: [],\n      // 当前可视区域数据\n      allDataArr: [],\n      // 轮播数组\n      selectData: {},\n      // 选中日期信息 -> year, month, day\n      isSelectedCurrentDate: false,\n      // 是否点选当前月份信息 (配合月视图减少点击切换时的数组更新)\n      translateIndex: 0,\n      // 轮播所在位置\n      transitionDuration: 0.3,\n      // 动画持续时间\n      needAnimation: true,\n      // 左右滑动是否需要动画\n      isTouching: false,\n      // 是否为touch状态\n      touchStartPositionX: null,\n      // 初始滑动 X的值\n      touchStartPositionY: null,\n      // 初始滑动 Y的值\n      touch: {\n        // 本次touch事件，横向，纵向滑动的距离\n        x: 0,\n        y: 0\n      },\n      isWeekView: false,\n      // 周视图还是月视图\n      itemHeight: 50,\n      // 子元素行高\n      needHeightAnimation: false,\n      // 高度变化是否需要动画\n      offsetY: 0,\n      // 周视图 Y轴偏移量\n      lineNum: 0,\n      // 当前视图总行数\n      lastWeek: [],\n      // 周视图 前一周数据\n      nextWeek: [],\n      // 周视图 后一周数据\n      isDelay: true,\n      // 是否延迟 (动画结束在处理数据)\n      touchAreaHeight: 40,\n      // 底部区域高度\n      touchAreaPadding: 10,\n      // 底部区域padding\n      isClicked: false // 点选元素 (去除周视图切换月份时的动画延迟)\n    };\n  },\n  created() {\n    this.checkoutCurrentDate();\n  },\n  watch: {\n    dataArr: {\n      handler(val) {\n        this.changeAllData(val);\n      },\n      deep: true\n    },\n    isWeekView(val) {\n      if (!val) {\n        this.isSelectedCurrentDate = false;\n        this.changeAllData(this.dataArr);\n      }\n    }\n  },\n  methods: {\n    // 更新轮播数组\n    changeAllData(val) {\n      if (this.isSelectedCurrentDate && !this.isWeekView) return;\n      const preDate = this.getPreMonth();\n      const preDataArr = this.getMonthData(preDate, true);\n      const nextDate = this.getNextMonth();\n      const nextDataArr = this.getMonthData(nextDate, true);\n      if (this.isWeekView) {\n        const sliceStart = this.dealWeekViewSliceStart();\n        preDataArr.splice(sliceStart, 7, ...this.lastWeek);\n        nextDataArr.splice(sliceStart, 7, ...this.nextWeek);\n      }\n      const delayHandle = isDelay => {\n        this.allDataArr = [preDataArr, val, nextDataArr];\n        this.needAnimation = false;\n        this.translateIndex = 0;\n        if (isDelay) this.isDelay = false;\n      };\n      if (this.isDelay) {\n        delayHandle(this.isDelay);\n        return;\n      }\n      setTimeout(() => {\n        delayHandle();\n      }, this.isClicked && this.isWeekView ? 0 : this.transitionDuration * 1000);\n    },\n    // 获取当前日期\n    getCurrentDate() {\n      this.selectData = {\n        year: new Date().getFullYear(),\n        month: new Date().getMonth() + 1,\n        day: new Date().getDate()\n      };\n    },\n    // 获取指定月份数据\n    getMonthData(date, unSelected = false) {\n      const {\n        year,\n        month,\n        day\n      } = date;\n      let dataArr = [];\n      let daysInMonth = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\n      if (year % 4 === 0 && year % 100 !== 0 || year % 400 === 0) {\n        daysInMonth[1] = 29;\n      }\n      const monthStartWeekDay = new Date(year, month - 1, 1).getDay();\n      const monthEndWeekDay = new Date(year, month, 1).getDay() || 7;\n      const preInfo = this.getPreMonth(date);\n      const nextInfo = this.getNextMonth();\n      for (let i = 0; i < monthStartWeekDay; i++) {\n        let preObj = {\n          type: \"pre\",\n          day: daysInMonth[preInfo.month - 1] - (monthStartWeekDay - i - 1),\n          month: preInfo.month,\n          year: preInfo.year\n        };\n        dataArr.push(preObj);\n      }\n      for (let i = 0; i < daysInMonth[month - 1]; i++) {\n        let itemObj = {\n          type: \"normal\",\n          day: i + 1,\n          month,\n          year,\n          isSelected: day === i + 1 && !unSelected\n        };\n        dataArr.push(itemObj);\n      }\n      for (let i = 0; i < 7 - monthEndWeekDay; i++) {\n        let nextObj = {\n          type: \"next\",\n          day: i + 1,\n          month: nextInfo.month,\n          year: nextInfo.year\n        };\n        dataArr.push(nextObj);\n      }\n      return dataArr;\n    },\n    // 点选切换日期\n    checkoutDate(selectData) {\n      this.isSelectedCurrentDate = true;\n      this.isClicked = true;\n      if (this.isWeekView && selectData.type !== \"normal\") {\n        this.needAnimation = false;\n        this.needHeightAnimation = false;\n      }\n      if (selectData.type === \"next\") {\n        this.translateIndex += 1;\n        this.dealMonthData(\"NEXT_MONTH\", selectData.day);\n        return;\n      }\n      if (selectData.type === \"pre\") {\n        this.translateIndex -= 1;\n        this.dealMonthData(\"PRE_MONTH\", selectData.day);\n        return;\n      }\n      this.selectData.day = selectData.day;\n      const oldSelectIndex = this.dataArr.findIndex(item => item.isSelected && item.type === \"normal\");\n      const newSelectIndex = this.dataArr.findIndex(item => item.day === selectData.day && item.type === \"normal\");\n      if (this.dataArr[oldSelectIndex]) this.$set(this.dataArr[oldSelectIndex], \"isSelected\", false);\n      if (this.dataArr[newSelectIndex]) this.$set(this.dataArr[newSelectIndex], \"isSelected\", true);\n    },\n    // 获取前(后)一个月的年月日信息\n    getPreMonth(date, appointDay = 1) {\n      let {\n        year,\n        month\n      } = date || this.selectData;\n      if (month === 1) {\n        year -= 1;\n        month = 12;\n      } else {\n        month -= 1;\n      }\n      return {\n        year,\n        month,\n        day: appointDay\n      };\n    },\n    getNextMonth(appointDay = 1) {\n      let {\n        year,\n        month\n      } = this.selectData;\n      if (month === 12) {\n        year += 1;\n        month = 1;\n      } else {\n        month += 1;\n      }\n      return {\n        year,\n        month,\n        day: appointDay\n      };\n    },\n    // 切换上(下)一月\n    handlePreMonth() {\n      this.dealMonthData(\"PRE_MONTH\");\n    },\n    handleNextMonth() {\n      this.dealMonthData(\"NEXT_MONTH\");\n    },\n    // 处理月数据\n    dealMonthData(type, appointDay = 1) {\n      this.isSelectedCurrentDate = false;\n      switch (type) {\n        case \"PRE_MONTH\":\n          this.selectData = this.getPreMonth(\"\", appointDay);\n          break;\n        case \"NEXT_MONTH\":\n          this.selectData = this.getNextMonth(appointDay);\n          break;\n        default:\n          break;\n      }\n      this.dataArr = this.getMonthData(this.selectData);\n      this.lineNum = Math.ceil(this.dataArr.length / 7);\n    },\n    // 今日\n    checkoutCurrentDate() {\n      this.isDelay = true;\n      this.getCurrentDate();\n      this.dealMonthData();\n    },\n    // touch事件\n    touchStart(event) {\n      this.isTouching = true;\n      this.needAnimation = true;\n      this.isClicked = false;\n      this.touchStartPositionX = event.touches[0].clientX;\n      this.touchStartPositionY = event.touches[0].clientY;\n      this.touch = {\n        x: 0\n      };\n    },\n    touchMove(event) {\n      const moveX = event.touches[0].clientX - this.touchStartPositionX;\n      const moveY = event.touches[0].clientY - this.touchStartPositionY;\n      if (Math.abs(moveX) > Math.abs(moveY)) {\n        // 左右\n        this.needHeightAnimation = false;\n        this.touch = {\n          x: moveX / this.$refs.calendar.offsetWidth,\n          y: 0\n        };\n      } else {\n        // 上下\n        this.needHeightAnimation = true;\n        this.touch = {\n          x: 0,\n          y: moveY / this.$refs.calendar.offsetHeight\n        };\n      }\n    },\n    touchEnd() {\n      this.isTouching = false;\n      const {\n        x,\n        y\n      } = this.touch;\n\n      // 月视图\n      if (Math.abs(x) > Math.abs(y) && Math.abs(x) > 0.3) {\n        if (x > 0) {\n          // 左\n          this.translateIndex -= 1;\n          this.isWeekView ? this.handlePreWeek() : this.handlePreMonth();\n        } else if (x < 0) {\n          // 右\n          this.translateIndex += 1;\n          this.isWeekView ? this.handleNextWeek() : this.handleNextMonth();\n        }\n      }\n\n      // 周视图\n      if (Math.abs(y) > Math.abs(x) && Math.abs(y * this.$refs.calendar.offsetHeight) > 50) {\n        if (y > 0) {\n          // 下\n          this.isWeekView = false;\n          this.offsetY = 0;\n        } else if (y < 0) {\n          // 上\n          this.isWeekView = true;\n          this.dealWeekViewData();\n        }\n      }\n      this.touch = {\n        x: 0,\n        y: 0\n      };\n    },\n    // 周视图的位置信息\n    getInfoOfWeekView(selectedIndex, length) {\n      const indexOfLine = Math.ceil((selectedIndex + 1) / 7);\n      const totalLine = Math.ceil(length / 7);\n      const sliceStart = (indexOfLine - 1) * 7;\n      const sliceEnd = sliceStart + 7;\n      return {\n        indexOfLine,\n        totalLine,\n        sliceStart,\n        sliceEnd\n      };\n    },\n    // 生成前(后)一周数据\n    dealWeekViewSliceStart() {\n      const selectedIndex = this.dataArr.findIndex(item => item.isSelected);\n      const {\n        indexOfLine,\n        totalLine,\n        sliceStart,\n        sliceEnd\n      } = this.getInfoOfWeekView(selectedIndex, this.dataArr.length);\n      this.offsetY = -((indexOfLine - 1) * this.itemHeight);\n\n      // 前一周数据\n      if (indexOfLine === 1) {\n        const preInfo = this.getPreMonth();\n        const preDataArr = this.getMonthData(preInfo, true);\n        const preDay = this.dataArr[0].day - 1 || preDataArr[preDataArr.length - 1].day;\n        const preIndex = preDataArr.findIndex(item => item.day === preDay && item.type === \"normal\");\n        const {\n          sliceStart: preSliceStart,\n          sliceEnd: preSliceEnd\n        } = this.getInfoOfWeekView(preIndex, preDataArr.length);\n        this.lastWeek = preDataArr.slice(preSliceStart, preSliceEnd);\n      } else {\n        this.lastWeek = this.dataArr.slice(sliceStart - 7, sliceEnd - 7);\n      }\n\n      // 后一周数据\n      if (indexOfLine >= totalLine) {\n        const nextInfo = this.getNextMonth();\n        const nextDataArr = this.getMonthData(nextInfo, true);\n        const nextDay = this.dataArr[this.dataArr.length - 1].type === \"normal\" ? 1 : this.dataArr[this.dataArr.length - 1].day + 1;\n        const nextIndex = nextDataArr.findIndex(item => item.day === nextDay);\n        const {\n          sliceStart: nextSliceStart,\n          sliceEnd: nextSliceEnd\n        } = this.getInfoOfWeekView(nextIndex, nextDataArr.length);\n        this.nextWeek = nextDataArr.slice(nextSliceStart, nextSliceEnd);\n      } else {\n        this.nextWeek = this.dataArr.slice(sliceStart + 7, sliceEnd + 7);\n      }\n      return sliceStart;\n    },\n    // 切换上(下)一周\n    handlePreWeek() {\n      this.dealWeekData(\"PRE_WEEK\");\n    },\n    handleNextWeek() {\n      this.dealWeekData(\"NEXT_WEEK\");\n    },\n    // 处理周数据\n    dealWeekData(type) {\n      const {\n        year,\n        month,\n        day\n      } = type === \"PRE_WEEK\" ? this.lastWeek.find(item => item.type === \"normal\") : this.nextWeek[0];\n      this.selectData = {\n        year,\n        month,\n        day\n      };\n      this.dataArr = this.getMonthData(this.selectData);\n      this.lineNum = Math.ceil(this.dataArr.length / 7);\n      this.offsetY -= this.itemHeight;\n      this.dealWeekViewData();\n    },\n    // 处理上(下)一周数据\n    dealWeekViewData() {\n      const sliceStart = this.dealWeekViewSliceStart();\n      this.allDataArr[0].splice(sliceStart, 7, ...this.lastWeek);\n      this.allDataArr[2].splice(sliceStart, 7, ...this.nextWeek);\n    }\n  }\n};","map":{"version":3,"names":["name","data","weekArr","dataArr","allDataArr","selectData","isSelectedCurrentDate","translateIndex","transitionDuration","needAnimation","isTouching","touchStartPositionX","touchStartPositionY","touch","x","y","isWeekView","itemHeight","needHeightAnimation","offsetY","lineNum","lastWeek","nextWeek","isDelay","touchAreaHeight","touchAreaPadding","isClicked","created","checkoutCurrentDate","watch","handler","val","changeAllData","deep","methods","preDate","getPreMonth","preDataArr","getMonthData","nextDate","getNextMonth","nextDataArr","sliceStart","dealWeekViewSliceStart","splice","delayHandle","setTimeout","getCurrentDate","year","Date","getFullYear","month","getMonth","day","getDate","date","unSelected","daysInMonth","monthStartWeekDay","getDay","monthEndWeekDay","preInfo","nextInfo","i","preObj","type","push","itemObj","isSelected","nextObj","checkoutDate","dealMonthData","oldSelectIndex","findIndex","item","newSelectIndex","$set","appointDay","handlePreMonth","handleNextMonth","Math","ceil","length","touchStart","event","touches","clientX","clientY","touchMove","moveX","moveY","abs","$refs","calendar","offsetWidth","offsetHeight","touchEnd","handlePreWeek","handleNextWeek","dealWeekViewData","getInfoOfWeekView","selectedIndex","indexOfLine","totalLine","sliceEnd","preDay","preIndex","preSliceStart","preSliceEnd","slice","nextDay","nextIndex","nextSliceStart","nextSliceEnd","dealWeekData","find"],"sources":["C:\\Users\\zhang\\Desktop\\myvueeee\\flowers\\src\\components\\Calendar.vue"],"sourcesContent":["<template>\n  <div class=\"calendar\">\n    <section class=\"header\">\n      {{ selectData.year }}年{{ selectData.month }}月{{ selectData.day }}日\n    </section>\n    <ul class=\"week-area\">\n      <li v-for=\"(item, index) in weekArr\" :key=\"index\" class=\"week-item\">\n        <span class=\"week-font calendar-item\">{{ item }}</span>\n      </li>\n    </ul>\n    <section\n        ref=\"calendar\"\n        :style=\"{\n        height: isWeekView\n          ? `${itemHeight + touchAreaHeight}px`\n          : `${lineNum * itemHeight + touchAreaHeight}px`,\n        transitionDuration: `${needHeightAnimation ? transitionDuration : 0}s`,\n      }\"\n        class=\"data-container\"\n        @touchend=\"touchEnd\"\n        @touchstart=\"touchStart\"\n        @touchmove.stop.prevent=\"touchMove\"\n    >\n      <section\n          :style=\"{\n          transform: `translateX(${-(translateIndex + 1) * 100}%)`,\n          transitionDuration: `${needAnimation ? transitionDuration : 0}s`,\n        }\"\n          class=\"month-area\"\n      >\n        <div\n            :style=\"{\n            transform: `translateY(${offsetY}px)`,\n            transitionDuration: `${\n              needHeightAnimation ? transitionDuration : 0\n            }s`,\n          }\"\n            class=\"banner-area\"\n        >\n          <ul\n              v-for=\"(monthItem, monthIndex) in allDataArr\"\n              :key=\"monthIndex\"\n              :style=\"{\n              transform: `translateX(${\n                (translateIndex + isTouching ? touch.x : 0) * 100\n              }%)`,\n              transitionDuration: `${isTouching ? 0 : transitionDuration}s`,\n            }\"\n              class=\"data-area\"\n          >\n            <li\n                v-for=\"(item, index) in monthItem\"\n                :key=\"index\"\n                :class=\"[\n                'data-item',\n                { selected: item.isSelected },\n                { 'other-item': item.type !== 'normal' && !isWeekView },\n              ]\"\n                :style=\"`height: ${itemHeight}px`\"\n                @click=\"checkoutDate(item)\"\n            >\n              <span class=\"data-font calendar-item\">{{ item.day }}</span>\n            </li>\n          </ul>\n        </div>\n      </section>\n    </section>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"calenderHappy\",\n  data() {\n    return {\n      weekArr: [\"日\", \"一\", \"二\", \"三\", \"四\", \"五\", \"六\"], // 星期数组\n      dataArr: [], // 当前可视区域数据\n      allDataArr: [], // 轮播数组\n      selectData: {}, // 选中日期信息 -> year, month, day\n      isSelectedCurrentDate: false, // 是否点选当前月份信息 (配合月视图减少点击切换时的数组更新)\n      translateIndex: 0, // 轮播所在位置\n      transitionDuration: 0.3, // 动画持续时间\n      needAnimation: true, // 左右滑动是否需要动画\n      isTouching: false, // 是否为touch状态\n      touchStartPositionX: null, // 初始滑动 X的值\n      touchStartPositionY: null, // 初始滑动 Y的值\n      touch: {\n        // 本次touch事件，横向，纵向滑动的距离\n        x: 0,\n        y: 0,\n      },\n      isWeekView: false, // 周视图还是月视图\n      itemHeight: 50, // 子元素行高\n      needHeightAnimation: false, // 高度变化是否需要动画\n      offsetY: 0, // 周视图 Y轴偏移量\n      lineNum: 0, // 当前视图总行数\n      lastWeek: [], // 周视图 前一周数据\n      nextWeek: [], // 周视图 后一周数据\n      isDelay: true, // 是否延迟 (动画结束在处理数据)\n      touchAreaHeight: 40, // 底部区域高度\n      touchAreaPadding: 10, // 底部区域padding\n      isClicked: false, // 点选元素 (去除周视图切换月份时的动画延迟)\n    };\n  },\n  created() {\n    this.checkoutCurrentDate();\n  },\n  watch: {\n    dataArr: {\n      handler(val) {\n        this.changeAllData(val);\n      },\n      deep: true,\n    },\n    isWeekView(val) {\n      if (!val) {\n        this.isSelectedCurrentDate = false;\n        this.changeAllData(this.dataArr);\n      }\n    },\n  },\n  methods: {\n    // 更新轮播数组\n    changeAllData(val) {\n      if (this.isSelectedCurrentDate && !this.isWeekView) return;\n\n      const preDate = this.getPreMonth();\n      const preDataArr = this.getMonthData(preDate, true);\n      const nextDate = this.getNextMonth();\n      const nextDataArr = this.getMonthData(nextDate, true);\n\n      if (this.isWeekView) {\n        const sliceStart = this.dealWeekViewSliceStart();\n        preDataArr.splice(sliceStart, 7, ...this.lastWeek);\n        nextDataArr.splice(sliceStart, 7, ...this.nextWeek);\n      }\n\n      const delayHandle = (isDelay) => {\n        this.allDataArr = [preDataArr, val, nextDataArr];\n        this.needAnimation = false;\n        this.translateIndex = 0;\n        if (isDelay) this.isDelay = false;\n      };\n\n      if (this.isDelay) {\n        delayHandle(this.isDelay);\n        return;\n      }\n\n      setTimeout(\n          () => {\n            delayHandle();\n          },\n          this.isClicked && this.isWeekView ? 0 : this.transitionDuration * 1000\n      );\n    },\n    // 获取当前日期\n    getCurrentDate() {\n      this.selectData = {\n        year: new Date().getFullYear(),\n        month: new Date().getMonth() + 1,\n        day: new Date().getDate(),\n      };\n    },\n    // 获取指定月份数据\n    getMonthData(date, unSelected = false) {\n      const {year, month, day} = date;\n      let dataArr = [];\n      let daysInMonth = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\n\n      if ((year % 4 === 0 && year % 100 !== 0) || year % 400 === 0) {\n        daysInMonth[1] = 29;\n      }\n\n      const monthStartWeekDay = new Date(year, month - 1, 1).getDay();\n      const monthEndWeekDay = new Date(year, month, 1).getDay() || 7;\n\n      const preInfo = this.getPreMonth(date);\n      const nextInfo = this.getNextMonth();\n\n      for (let i = 0; i < monthStartWeekDay; i++) {\n        let preObj = {\n          type: \"pre\",\n          day: daysInMonth[preInfo.month - 1] - (monthStartWeekDay - i - 1),\n          month: preInfo.month,\n          year: preInfo.year,\n        };\n        dataArr.push(preObj);\n      }\n\n      for (let i = 0; i < daysInMonth[month - 1]; i++) {\n        let itemObj = {\n          type: \"normal\",\n          day: i + 1,\n          month,\n          year,\n          isSelected: day === i + 1 && !unSelected,\n        };\n        dataArr.push(itemObj);\n      }\n\n      for (let i = 0; i < 7 - monthEndWeekDay; i++) {\n        let nextObj = {\n          type: \"next\",\n          day: i + 1,\n          month: nextInfo.month,\n          year: nextInfo.year,\n        };\n        dataArr.push(nextObj);\n      }\n\n      return dataArr;\n    },\n    // 点选切换日期\n    checkoutDate(selectData) {\n      this.isSelectedCurrentDate = true;\n      this.isClicked = true;\n\n      if (this.isWeekView && selectData.type !== \"normal\") {\n        this.needAnimation = false;\n        this.needHeightAnimation = false;\n      }\n\n      if (selectData.type === \"next\") {\n        this.translateIndex += 1;\n        this.dealMonthData(\"NEXT_MONTH\", selectData.day);\n        return;\n      }\n\n      if (selectData.type === \"pre\") {\n        this.translateIndex -= 1;\n        this.dealMonthData(\"PRE_MONTH\", selectData.day);\n        return;\n      }\n\n      this.selectData.day = selectData.day;\n      const oldSelectIndex = this.dataArr.findIndex(\n          (item) => item.isSelected && item.type === \"normal\"\n      );\n      const newSelectIndex = this.dataArr.findIndex(\n          (item) => item.day === selectData.day && item.type === \"normal\"\n      );\n\n      if (this.dataArr[oldSelectIndex])\n        this.$set(this.dataArr[oldSelectIndex], \"isSelected\", false);\n      if (this.dataArr[newSelectIndex])\n        this.$set(this.dataArr[newSelectIndex], \"isSelected\", true);\n    },\n    // 获取前(后)一个月的年月日信息\n    getPreMonth(date, appointDay = 1) {\n      let {year, month} = date || this.selectData;\n      if (month === 1) {\n        year -= 1;\n        month = 12;\n      } else {\n        month -= 1;\n      }\n\n      return {year, month, day: appointDay};\n    },\n    getNextMonth(appointDay = 1) {\n      let {year, month} = this.selectData;\n      if (month === 12) {\n        year += 1;\n        month = 1;\n      } else {\n        month += 1;\n      }\n\n      return {year, month, day: appointDay};\n    },\n    // 切换上(下)一月\n    handlePreMonth() {\n      this.dealMonthData(\"PRE_MONTH\");\n    },\n    handleNextMonth() {\n      this.dealMonthData(\"NEXT_MONTH\");\n    },\n    // 处理月数据\n    dealMonthData(type, appointDay = 1) {\n      this.isSelectedCurrentDate = false;\n\n      switch (type) {\n        case \"PRE_MONTH\":\n          this.selectData = this.getPreMonth(\"\", appointDay);\n          break;\n        case \"NEXT_MONTH\":\n          this.selectData = this.getNextMonth(appointDay);\n          break;\n        default:\n          break;\n      }\n\n      this.dataArr = this.getMonthData(this.selectData);\n      this.lineNum = Math.ceil(this.dataArr.length / 7);\n    },\n    // 今日\n    checkoutCurrentDate() {\n      this.isDelay = true;\n      this.getCurrentDate();\n      this.dealMonthData();\n    },\n    // touch事件\n    touchStart(event) {\n      this.isTouching = true;\n      this.needAnimation = true;\n      this.isClicked = false;\n\n      this.touchStartPositionX = event.touches[0].clientX;\n      this.touchStartPositionY = event.touches[0].clientY;\n      this.touch = {\n        x: 0,\n      };\n    },\n    touchMove(event) {\n      const moveX = event.touches[0].clientX - this.touchStartPositionX;\n      const moveY = event.touches[0].clientY - this.touchStartPositionY;\n\n      if (Math.abs(moveX) > Math.abs(moveY)) {\n        // 左右\n        this.needHeightAnimation = false;\n        this.touch = {\n          x: moveX / this.$refs.calendar.offsetWidth,\n          y: 0,\n        };\n      } else {\n        // 上下\n        this.needHeightAnimation = true;\n        this.touch = {\n          x: 0,\n          y: moveY / this.$refs.calendar.offsetHeight,\n        };\n      }\n    },\n    touchEnd() {\n      this.isTouching = false;\n      const {x, y} = this.touch;\n\n      // 月视图\n      if (Math.abs(x) > Math.abs(y) && Math.abs(x) > 0.3) {\n        if (x > 0) {\n          // 左\n          this.translateIndex -= 1;\n          this.isWeekView ? this.handlePreWeek() : this.handlePreMonth();\n        } else if (x < 0) {\n          // 右\n          this.translateIndex += 1;\n          this.isWeekView ? this.handleNextWeek() : this.handleNextMonth();\n        }\n      }\n\n      // 周视图\n      if (\n          Math.abs(y) > Math.abs(x) &&\n          Math.abs(y * this.$refs.calendar.offsetHeight) > 50\n      ) {\n        if (y > 0) {\n          // 下\n          this.isWeekView = false;\n          this.offsetY = 0;\n        } else if (y < 0) {\n          // 上\n          this.isWeekView = true;\n          this.dealWeekViewData();\n        }\n      }\n\n      this.touch = {\n        x: 0,\n        y: 0,\n      };\n    },\n    // 周视图的位置信息\n    getInfoOfWeekView(selectedIndex, length) {\n      const indexOfLine = Math.ceil((selectedIndex + 1) / 7);\n      const totalLine = Math.ceil(length / 7);\n      const sliceStart = (indexOfLine - 1) * 7;\n      const sliceEnd = sliceStart + 7;\n\n      return {indexOfLine, totalLine, sliceStart, sliceEnd};\n    },\n    // 生成前(后)一周数据\n    dealWeekViewSliceStart() {\n      const selectedIndex = this.dataArr.findIndex((item) => item.isSelected);\n      const {indexOfLine, totalLine, sliceStart, sliceEnd} =\n          this.getInfoOfWeekView(selectedIndex, this.dataArr.length);\n\n      this.offsetY = -((indexOfLine - 1) * this.itemHeight);\n\n      // 前一周数据\n      if (indexOfLine === 1) {\n        const preInfo = this.getPreMonth();\n        const preDataArr = this.getMonthData(preInfo, true);\n        const preDay =\n            this.dataArr[0].day - 1 || preDataArr[preDataArr.length - 1].day;\n        const preIndex = preDataArr.findIndex(\n            (item) => item.day === preDay && item.type === \"normal\"\n        );\n        const {sliceStart: preSliceStart, sliceEnd: preSliceEnd} =\n            this.getInfoOfWeekView(preIndex, preDataArr.length);\n        this.lastWeek = preDataArr.slice(preSliceStart, preSliceEnd);\n      } else {\n        this.lastWeek = this.dataArr.slice(sliceStart - 7, sliceEnd - 7);\n      }\n\n      // 后一周数据\n      if (indexOfLine >= totalLine) {\n        const nextInfo = this.getNextMonth();\n        const nextDataArr = this.getMonthData(nextInfo, true);\n        const nextDay =\n            this.dataArr[this.dataArr.length - 1].type === \"normal\"\n                ? 1\n                : this.dataArr[this.dataArr.length - 1].day + 1;\n        const nextIndex = nextDataArr.findIndex((item) => item.day === nextDay);\n        const {sliceStart: nextSliceStart, sliceEnd: nextSliceEnd} =\n            this.getInfoOfWeekView(nextIndex, nextDataArr.length);\n        this.nextWeek = nextDataArr.slice(nextSliceStart, nextSliceEnd);\n      } else {\n        this.nextWeek = this.dataArr.slice(sliceStart + 7, sliceEnd + 7);\n      }\n\n      return sliceStart;\n    },\n    // 切换上(下)一周\n    handlePreWeek() {\n      this.dealWeekData(\"PRE_WEEK\");\n    },\n    handleNextWeek() {\n      this.dealWeekData(\"NEXT_WEEK\");\n    },\n    // 处理周数据\n    dealWeekData(type) {\n      const {year, month, day} =\n          type === \"PRE_WEEK\"\n              ? this.lastWeek.find((item) => item.type === \"normal\")\n              : this.nextWeek[0];\n      this.selectData = {year, month, day};\n      this.dataArr = this.getMonthData(this.selectData);\n      this.lineNum = Math.ceil(this.dataArr.length / 7);\n      this.offsetY -= this.itemHeight;\n      this.dealWeekViewData();\n    },\n    // 处理上(下)一周数据\n    dealWeekViewData() {\n      const sliceStart = this.dealWeekViewSliceStart();\n      this.allDataArr[0].splice(sliceStart, 7, ...this.lastWeek);\n      this.allDataArr[2].splice(sliceStart, 7, ...this.nextWeek);\n    },\n  },\n};\n</script>\n\n<style>\n.calendar {\n  overflow-x: hidden;\n  /*width: 385px;*/\n  /*height: 440px;*/\n  display: inline;\n  text-align: center;\n}\n\n.header {\n  padding: 0 5px;\n  font-size: 18px;\n  font-weight: 500;\n  color: #2b4450;\n  line-height: 44px;\n  margin: 0 calc((14.285% - 40px) / 2 + 6px);\n}\n\n.calendar-item {\n  display: block;\n  width: 40px;\n  height: 40px;\n  text-align: center;\n  line-height: 40px;\n}\n\n.selected .calendar-item {\n  background: #2b4450;\n  border-radius: 50%;\n  color: #fff;\n}\n\n.week-area {\n  width: 100%;\n  display: flex;\n}\n\n.week-item {\n  height: 45px;\n  flex: 0 0 14.285%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.week-font {\n  font-size: 15px;\n  color: #2b4450;\n  font-weight: 500;\n}\n\n.data-container {\n  overflow: hidden;\n  position: relative;\n}\n\n.banner-area {\n  width: 300%;\n  display: flex;\n}\n\n.data-area {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-flow: row wrap;\n}\n\n.data-item {\n  flex: 0 0 14.285%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.data-font {\n  color: #2b4450;\n  font-size: 18px;\n  font-weight: 400;\n}\n\n.other-item .data-font {\n  color: #ccc;\n}\n\n.touch-area {\n  width: 100%;\n  box-sizing: border-box;\n  background-color: #fff;\n  position: absolute;\n  left: 0;\n  bottom: 0;\n}\n\n.touch-container {\n  width: 100%;\n  box-sizing: border-box;\n  border-top: 0.5px solid #eee;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.touch-item {\n  width: 40px;\n  height: 5px;\n  background: #2b4450;\n  border-radius: 100px;\n  opacity: 0.6;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}