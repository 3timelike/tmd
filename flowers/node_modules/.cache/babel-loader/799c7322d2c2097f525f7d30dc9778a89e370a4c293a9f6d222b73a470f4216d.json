{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nvar vue = require('vue');\nvar lodashUnified = require('lodash-unified');\nrequire('../../utils/index.js');\nvar error = require('../../utils/error.js');\nconst DEFAULT_EXCLUDE_KEYS = [\"class\", \"style\"];\nconst LISTENER_PREFIX = /^on[A-Z]/;\nconst useAttrs = (params = {}) => {\n  const {\n    excludeListeners = false,\n    excludeKeys\n  } = params;\n  const allExcludeKeys = vue.computed(() => {\n    return ((excludeKeys == null ? void 0 : excludeKeys.value) || []).concat(DEFAULT_EXCLUDE_KEYS);\n  });\n  const instance = vue.getCurrentInstance();\n  if (!instance) {\n    error.debugWarn(\"use-attrs\", \"getCurrentInstance() returned null. useAttrs() must be called at the top of a setup function\");\n    return vue.computed(() => ({}));\n  }\n  return vue.computed(() => {\n    var _a;\n    return lodashUnified.fromPairs(Object.entries((_a = instance.proxy) == null ? void 0 : _a.$attrs).filter(([key]) => !allExcludeKeys.value.includes(key) && !(excludeListeners && LISTENER_PREFIX.test(key))));\n  });\n};\nexports.useAttrs = useAttrs;","map":{"version":3,"names":["DEFAULT_EXCLUDE_KEYS","LISTENER_PREFIX","useAttrs","params","excludeListeners","excludeKeys","allExcludeKeys","vue","computed","value","concat","instance","getCurrentInstance","error","debugWarn","_a","lodashUnified","fromPairs","Object","entries","proxy","$attrs","filter","key","includes","test"],"sources":["../../../../../packages/hooks/use-attrs/index.ts"],"sourcesContent":["import { computed, getCurrentInstance } from 'vue'\nimport { fromPairs } from 'lodash-unified'\nimport { debugWarn } from '@element-plus/utils'\n\nimport type { ComputedRef } from 'vue'\n\ninterface Params {\n  excludeListeners?: boolean\n  excludeKeys?: ComputedRef<string[]>\n}\n\nconst DEFAULT_EXCLUDE_KEYS = ['class', 'style']\nconst LISTENER_PREFIX = /^on[A-Z]/\n\nexport const useAttrs = (\n  params: Params = {}\n): ComputedRef<Record<string, unknown>> => {\n  const { excludeListeners = false, excludeKeys } = params\n  const allExcludeKeys = computed<string[]>(() => {\n    return (excludeKeys?.value || []).concat(DEFAULT_EXCLUDE_KEYS)\n  })\n\n  const instance = getCurrentInstance()\n  if (!instance) {\n    debugWarn(\n      'use-attrs',\n      'getCurrentInstance() returned null. useAttrs() must be called at the top of a setup function'\n    )\n    return computed(() => ({}))\n  }\n\n  return computed(() =>\n    fromPairs(\n      Object.entries(instance.proxy?.$attrs!).filter(\n        ([key]) =>\n          !allExcludeKeys.value.includes(key) &&\n          !(excludeListeners && LISTENER_PREFIX.test(key))\n      )\n    )\n  )\n}\n"],"mappings":";;;;;;;;;AAGA,MAAMA,oBAAoB,GAAG,CAAC,OAAO,EAAE,OAAO,CAAC;AAC/C,MAAMC,eAAe,GAAG,UAAU;AACtB,MAACC,QAAQ,GAAGA,CAACC,MAAM,GAAG,EAAE,KAAK;EACvC,MAAM;IAAEC,gBAAgB,GAAG,KAAK;IAAEC;EAAW,CAAE,GAAGF,MAAM;EACxD,MAAMG,cAAc,GAAGC,GAAA,CAAAC,QAAQ,CAAC,MAAM;IACpC,OAAO,CAAC,CAACH,WAAW,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,WAAW,CAACI,KAAK,KAAK,EAAE,EAAEC,MAAM,CAACV,oBAAoB,CAAC;EAClG,CAAG,CAAC;EACF,MAAMW,QAAQ,GAAGJ,GAAA,CAAAK,kBAAkB,EAAE;EACrC,IAAI,CAACD,QAAQ,EAAE;IACbE,KAAA,CAAAC,SAAS,CAAC,WAAW,EAAE,8FAA8F,CAAC;IACtH,OAAOP,GAAA,CAAAC,QAAQ,CAAC,OAAO,EAAE,CAAC,CAAC;EAC/B;EACE,OAAOD,GAAA,CAAAC,QAAQ,CAAC,MAAM;IACpB,IAAIO,EAAE;IACN,OAAOC,aAAA,CAAAC,SAAS,CAACC,MAAM,CAACC,OAAO,CAAC,CAACJ,EAAE,GAAGJ,QAAQ,CAACS,KAAK,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGL,EAAE,CAACM,MAAM,CAAC,CAACC,MAAM,CAAC,CAAC,CAACC,GAAG,CAAC,KAAK,CAACjB,cAAc,CAACG,KAAK,CAACe,QAAQ,CAACD,GAAG,CAAC,IAAI,EAAEnB,gBAAgB,IAAIH,eAAe,CAACwB,IAAI,CAACF,GAAG,CAAC,CAAC,CAAC,CAAC;EACnM,CAAG,CAAC;AACJ","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}