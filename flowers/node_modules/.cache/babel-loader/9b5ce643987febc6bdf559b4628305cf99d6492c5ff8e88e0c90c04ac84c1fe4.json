{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nvar vue = require('vue');\nrequire('../../roving-focus-group/index.js');\nrequire('../../collection/index.js');\nvar index = require('../../icon/index.js');\nrequire('../../../hooks/index.js');\nrequire('../../../utils/index.js');\nrequire('../../../constants/index.js');\nvar dropdown = require('./dropdown.js');\nvar tokens = require('./tokens.js');\nvar pluginVue_exportHelper = require('../../../_virtual/plugin-vue_export-helper.js');\nvar index$1 = require('../../../hooks/use-namespace/index.js');\nvar rovingFocusGroup = require('../../roving-focus-group/src/roving-focus-group.js');\nvar tokens$1 = require('../../roving-focus-group/src/tokens.js');\nvar refs = require('../../../utils/vue/refs.js');\nvar event = require('../../../utils/dom/event.js');\nvar aria = require('../../../constants/aria.js');\nvar collection = require('../../collection/src/collection.js');\nconst _sfc_main = vue.defineComponent({\n  name: \"DropdownItemImpl\",\n  components: {\n    ElIcon: index.ElIcon\n  },\n  props: dropdown.dropdownItemProps,\n  emits: [\"pointermove\", \"pointerleave\", \"click\", \"clickimpl\"],\n  setup(_, {\n    emit\n  }) {\n    const ns = index$1.useNamespace(\"dropdown\");\n    const {\n      role: menuRole\n    } = vue.inject(tokens.DROPDOWN_INJECTION_KEY, void 0);\n    const {\n      collectionItemRef: dropdownCollectionItemRef\n    } = vue.inject(dropdown.DROPDOWN_COLLECTION_ITEM_INJECTION_KEY, void 0);\n    const {\n      collectionItemRef: rovingFocusCollectionItemRef\n    } = vue.inject(rovingFocusGroup.ROVING_FOCUS_ITEM_COLLECTION_INJECTION_KEY, void 0);\n    const {\n      rovingFocusGroupItemRef,\n      tabIndex,\n      handleFocus,\n      handleKeydown: handleItemKeydown,\n      handleMousedown\n    } = vue.inject(tokens$1.ROVING_FOCUS_GROUP_ITEM_INJECTION_KEY, void 0);\n    const itemRef = refs.composeRefs(dropdownCollectionItemRef, rovingFocusCollectionItemRef, rovingFocusGroupItemRef);\n    const role = vue.computed(() => {\n      if (menuRole.value === \"menu\") {\n        return \"menuitem\";\n      } else if (menuRole.value === \"navigation\") {\n        return \"link\";\n      }\n      return \"button\";\n    });\n    const handleKeydown = event.composeEventHandlers(e => {\n      const {\n        code\n      } = e;\n      if (code === aria.EVENT_CODE.enter || code === aria.EVENT_CODE.space) {\n        e.preventDefault();\n        e.stopImmediatePropagation();\n        emit(\"clickimpl\", e);\n        return true;\n      }\n    }, handleItemKeydown);\n    return {\n      ns,\n      itemRef,\n      dataset: {\n        [collection.COLLECTION_ITEM_SIGN]: \"\"\n      },\n      role,\n      tabIndex,\n      handleFocus,\n      handleKeydown,\n      handleMousedown\n    };\n  }\n});\nconst _hoisted_1 = [\"aria-disabled\", \"tabindex\", \"role\"];\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_icon = vue.resolveComponent(\"el-icon\");\n  return vue.openBlock(), vue.createElementBlock(vue.Fragment, null, [_ctx.divided ? (vue.openBlock(), vue.createElementBlock(\"li\", vue.mergeProps({\n    key: 0,\n    role: \"separator\",\n    class: _ctx.ns.bem(\"menu\", \"item\", \"divided\")\n  }, _ctx.$attrs), null, 16)) : vue.createCommentVNode(\"v-if\", true), vue.createElementVNode(\"li\", vue.mergeProps({\n    ref: _ctx.itemRef\n  }, {\n    ..._ctx.dataset,\n    ..._ctx.$attrs\n  }, {\n    \"aria-disabled\": _ctx.disabled,\n    class: [_ctx.ns.be(\"menu\", \"item\"), _ctx.ns.is(\"disabled\", _ctx.disabled)],\n    tabindex: _ctx.tabIndex,\n    role: _ctx.role,\n    onClick: _cache[0] || (_cache[0] = e => _ctx.$emit(\"clickimpl\", e)),\n    onFocus: _cache[1] || (_cache[1] = (...args) => _ctx.handleFocus && _ctx.handleFocus(...args)),\n    onKeydown: _cache[2] || (_cache[2] = vue.withModifiers((...args) => _ctx.handleKeydown && _ctx.handleKeydown(...args), [\"self\"])),\n    onMousedown: _cache[3] || (_cache[3] = (...args) => _ctx.handleMousedown && _ctx.handleMousedown(...args)),\n    onPointermove: _cache[4] || (_cache[4] = e => _ctx.$emit(\"pointermove\", e)),\n    onPointerleave: _cache[5] || (_cache[5] = e => _ctx.$emit(\"pointerleave\", e))\n  }), [_ctx.icon ? (vue.openBlock(), vue.createBlock(_component_el_icon, {\n    key: 0\n  }, {\n    default: vue.withCtx(() => [(vue.openBlock(), vue.createBlock(vue.resolveDynamicComponent(_ctx.icon)))]),\n    _: 1\n  })) : vue.createCommentVNode(\"v-if\", true), vue.renderSlot(_ctx.$slots, \"default\")], 16, _hoisted_1)], 64);\n}\nvar ElDropdownItemImpl = /* @__PURE__ */pluginVue_exportHelper[\"default\"](_sfc_main, [[\"render\", _sfc_render], [\"__file\", \"dropdown-item-impl.vue\"]]);\nexports[\"default\"] = ElDropdownItemImpl;","map":{"version":3,"names":["_sfc_main","vue","defineComponent","name","components","ElIcon","index","props","dropdown","dropdownItemProps","emits","setup","_","emit","ns","index$1","useNamespace","role","menuRole","inject","tokens","DROPDOWN_INJECTION_KEY","collectionItemRef","dropdownCollectionItemRef","DROPDOWN_COLLECTION_ITEM_INJECTION_KEY","rovingFocusCollectionItemRef","rovingFocusGroup","ROVING_FOCUS_ITEM_COLLECTION_INJECTION_KEY","rovingFocusGroupItemRef","tabIndex","handleFocus","handleKeydown","handleItemKeydown","handleMousedown","tokens$1","ROVING_FOCUS_GROUP_ITEM_INJECTION_KEY","itemRef","refs","composeRefs","computed","value","event","composeEventHandlers","e","code","aria","EVENT_CODE","enter","space","preventDefault","stopImmediatePropagation","dataset","collection","COLLECTION_ITEM_SIGN","_ctx","divided","openBlock","createElementBlock","mergeProps","key","class","bem","$attrs","createCommentVNode","createElementVNode","ref","disabled","be","is","tabindex","onClick","_cache","$emit","onFocus","args","onKeydown","withModifiers","onMousedown","onPointermove","onPointerleave","icon","createBlock","_component_el_icon","default","withCtx","resolveDynamicComponent","renderSlot","$slots","_hoisted_1"],"sources":["../../../../../../packages/components/dropdown/src/dropdown-item-impl.vue"],"sourcesContent":["<template>\n  <li\n    v-if=\"divided\"\n    role=\"separator\"\n    :class=\"ns.bem('menu', 'item', 'divided')\"\n    v-bind=\"$attrs\"\n  />\n  <li\n    :ref=\"itemRef\"\n    v-bind=\"{ ...dataset, ...$attrs }\"\n    :aria-disabled=\"disabled\"\n    :class=\"[ns.be('menu', 'item'), ns.is('disabled', disabled)]\"\n    :tabindex=\"tabIndex\"\n    :role=\"role\"\n    @click=\"(e) => $emit('clickimpl', e)\"\n    @focus=\"handleFocus\"\n    @keydown.self=\"handleKeydown\"\n    @mousedown=\"handleMousedown\"\n    @pointermove=\"(e) => $emit('pointermove', e)\"\n    @pointerleave=\"(e) => $emit('pointerleave', e)\"\n  >\n    <el-icon v-if=\"icon\">\n      <component :is=\"icon\" />\n    </el-icon>\n    <slot />\n  </li>\n</template>\n\n<script lang=\"ts\">\n// @ts-nocheck\nimport { computed, defineComponent, inject } from 'vue'\nimport {\n  ROVING_FOCUS_GROUP_ITEM_INJECTION_KEY,\n  ROVING_FOCUS_ITEM_COLLECTION_INJECTION_KEY,\n} from '@element-plus/components/roving-focus-group'\nimport { COLLECTION_ITEM_SIGN } from '@element-plus/components/collection'\nimport { ElIcon } from '@element-plus/components/icon'\nimport { useNamespace } from '@element-plus/hooks'\nimport { composeEventHandlers, composeRefs } from '@element-plus/utils'\nimport { EVENT_CODE } from '@element-plus/constants'\nimport {\n  DROPDOWN_COLLECTION_ITEM_INJECTION_KEY,\n  dropdownItemProps,\n} from './dropdown'\nimport { DROPDOWN_INJECTION_KEY } from './tokens'\n\nexport default defineComponent({\n  name: 'DropdownItemImpl',\n  components: {\n    ElIcon,\n  },\n  props: dropdownItemProps,\n  emits: ['pointermove', 'pointerleave', 'click', 'clickimpl'],\n  setup(_, { emit }) {\n    const ns = useNamespace('dropdown')\n\n    const { role: menuRole } = inject(DROPDOWN_INJECTION_KEY, undefined)!\n\n    const { collectionItemRef: dropdownCollectionItemRef } = inject(\n      DROPDOWN_COLLECTION_ITEM_INJECTION_KEY,\n      undefined\n    )!\n\n    const { collectionItemRef: rovingFocusCollectionItemRef } = inject(\n      ROVING_FOCUS_ITEM_COLLECTION_INJECTION_KEY,\n      undefined\n    )!\n\n    const {\n      rovingFocusGroupItemRef,\n      tabIndex,\n      handleFocus,\n      handleKeydown: handleItemKeydown,\n      handleMousedown,\n    } = inject(ROVING_FOCUS_GROUP_ITEM_INJECTION_KEY, undefined)!\n\n    const itemRef = composeRefs(\n      dropdownCollectionItemRef,\n      rovingFocusCollectionItemRef,\n      rovingFocusGroupItemRef\n    )\n\n    const role = computed<string>(() => {\n      if (menuRole.value === 'menu') {\n        return 'menuitem'\n      } else if (menuRole.value === 'navigation') {\n        return 'link'\n      }\n      return 'button'\n    })\n\n    const handleKeydown = composeEventHandlers((e: KeyboardEvent) => {\n      const { code } = e\n      if (code === EVENT_CODE.enter || code === EVENT_CODE.space) {\n        e.preventDefault()\n        e.stopImmediatePropagation()\n        emit('clickimpl', e)\n        return true\n      }\n    }, handleItemKeydown)\n\n    return {\n      ns,\n      itemRef,\n      dataset: {\n        [COLLECTION_ITEM_SIGN]: '',\n      },\n      role,\n      tabIndex,\n      handleFocus,\n      handleKeydown,\n      handleMousedown,\n    }\n  },\n})\n</script>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}