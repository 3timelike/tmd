{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nvar vue = require('vue');\nvar core = require('@vueuse/core');\nrequire('../../../utils/index.js');\nvar error = require('../../../utils/error.js');\nconst useBackTop = (props, emit, componentName) => {\n  const el = vue.shallowRef();\n  const container = vue.shallowRef();\n  const visible = vue.ref(false);\n  const handleScroll = () => {\n    if (el.value) visible.value = el.value.scrollTop >= props.visibilityHeight;\n  };\n  const handleClick = event => {\n    var _a;\n    (_a = el.value) == null ? void 0 : _a.scrollTo({\n      top: 0,\n      behavior: \"smooth\"\n    });\n    emit(\"click\", event);\n  };\n  const handleScrollThrottled = core.useThrottleFn(handleScroll, 300, true);\n  core.useEventListener(container, \"scroll\", handleScrollThrottled);\n  vue.onMounted(() => {\n    var _a;\n    container.value = document;\n    el.value = document.documentElement;\n    if (props.target) {\n      el.value = (_a = document.querySelector(props.target)) != null ? _a : void 0;\n      if (!el.value) {\n        error.throwError(componentName, `target does not exist: ${props.target}`);\n      }\n      container.value = el.value;\n    }\n    handleScroll();\n  });\n  return {\n    visible,\n    handleClick\n  };\n};\nexports.useBackTop = useBackTop;","map":{"version":3,"names":["useBackTop","props","emit","componentName","el","vue","shallowRef","container","visible","ref","handleScroll","value","scrollTop","visibilityHeight","handleClick","event","_a","scrollTo","top","behavior","handleScrollThrottled","core","useThrottleFn","useEventListener","onMounted","document","documentElement","target","querySelector","error","throwError"],"sources":["../../../../../../packages/components/backtop/src/use-backtop.ts"],"sourcesContent":["import { onMounted, ref, shallowRef } from 'vue'\nimport { useEventListener, useThrottleFn } from '@vueuse/core'\nimport { throwError } from '@element-plus/utils'\nimport type { SetupContext } from 'vue'\nimport type { BacktopEmits, BacktopProps } from './backtop'\n\nexport const useBackTop = (\n  props: BacktopProps,\n  emit: SetupContext<BacktopEmits>['emit'],\n  componentName: string\n) => {\n  const el = shallowRef<HTMLElement>()\n  const container = shallowRef<Document | HTMLElement>()\n  const visible = ref(false)\n\n  const handleScroll = () => {\n    if (el.value) visible.value = el.value.scrollTop >= props.visibilityHeight\n  }\n\n  const handleClick = (event: MouseEvent) => {\n    el.value?.scrollTo({ top: 0, behavior: 'smooth' })\n    emit('click', event)\n  }\n\n  const handleScrollThrottled = useThrottleFn(handleScroll, 300, true)\n\n  useEventListener(container, 'scroll', handleScrollThrottled)\n  onMounted(() => {\n    container.value = document\n    el.value = document.documentElement\n\n    if (props.target) {\n      el.value = document.querySelector<HTMLElement>(props.target) ?? undefined\n      if (!el.value) {\n        throwError(componentName, `target does not exist: ${props.target}`)\n      }\n      container.value = el.value\n    }\n    // Give visible an initial value, fix #13066\n    handleScroll()\n  })\n\n  return {\n    visible,\n    handleClick,\n  }\n}\n"],"mappings":";;;;;;;;;AAGY,MAACA,UAAU,GAAGA,CAACC,KAAK,EAAEC,IAAI,EAAEC,aAAa,KAAK;EACxD,MAAMC,EAAE,GAAGC,GAAA,CAAAC,UAAU,EAAE;EACvB,MAAMC,SAAS,GAAGF,GAAA,CAAAC,UAAU,EAAE;EAC9B,MAAME,OAAO,GAAGH,GAAA,CAAAI,GAAG,CAAC,KAAK,CAAC;EAC1B,MAAMC,YAAY,GAAGA,CAAA,KAAM;IACzB,IAAIN,EAAE,CAACO,KAAK,EACVH,OAAO,CAACG,KAAK,GAAGP,EAAE,CAACO,KAAK,CAACC,SAAS,IAAIX,KAAK,CAACY,gBAAgB;EAClE,CAAG;EACD,MAAMC,WAAW,GAAIC,KAAK,IAAK;IAC7B,IAAIC,EAAE;IACN,CAACA,EAAE,GAAGZ,EAAE,CAACO,KAAK,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGK,EAAE,CAACC,QAAQ,CAAC;MAAEC,GAAG,EAAE,CAAC;MAAEC,QAAQ,EAAE;IAAQ,CAAE,CAAC;IAC9EjB,IAAI,CAAC,OAAO,EAAEa,KAAK,CAAC;EACxB,CAAG;EACD,MAAMK,qBAAqB,GAAGC,IAAA,CAAAC,aAAa,CAACZ,YAAY,EAAE,GAAG,EAAE,IAAI,CAAC;EACpEW,IAAA,CAAAE,gBAAgB,CAAChB,SAAS,EAAE,QAAQ,EAAEa,qBAAqB,CAAC;EAC5Df,GAAA,CAAAmB,SAAS,CAAC,MAAM;IACd,IAAIR,EAAE;IACNT,SAAS,CAACI,KAAK,GAAGc,QAAQ;IAC1BrB,EAAE,CAACO,KAAK,GAAGc,QAAQ,CAACC,eAAe;IACnC,IAAIzB,KAAK,CAAC0B,MAAM,EAAE;MAChBvB,EAAE,CAACO,KAAK,GAAG,CAACK,EAAE,GAAGS,QAAQ,CAACG,aAAa,CAAC3B,KAAK,CAAC0B,MAAM,CAAC,KAAK,IAAI,GAAGX,EAAE,GAAG,KAAK,CAAC;MAC5E,IAAI,CAACZ,EAAE,CAACO,KAAK,EAAE;QACbkB,KAAA,CAAAC,UAAU,CAAC3B,aAAa,EAAG,0BAAyBF,KAAK,CAAC0B,MAAO,EAAC,CAAC;MAC3E;MACMpB,SAAS,CAACI,KAAK,GAAGP,EAAE,CAACO,KAAK;IAChC;IACID,YAAY,EAAE;EAClB,CAAG,CAAC;EACF,OAAO;IACLF,OAAO;IACPM;EACJ,CAAG;AACH","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}