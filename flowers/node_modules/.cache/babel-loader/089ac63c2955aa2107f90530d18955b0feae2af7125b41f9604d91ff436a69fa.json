{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nvar vue = require('vue');\nvar lodashUnified = require('lodash-unified');\nvar index = require('../../select/index.js');\nvar index$1 = require('../../tree/index.js');\nvar select = require('./select.js');\nvar tree = require('./tree.js');\nvar cacheOptions = require('./cache-options.js');\nvar pluginVue_exportHelper = require('../../../_virtual/plugin-vue_export-helper.js');\nconst _sfc_main = vue.defineComponent({\n  name: \"ElTreeSelect\",\n  inheritAttrs: false,\n  props: {\n    ...index.ElSelect.props,\n    ...index$1[\"default\"].props,\n    cacheData: {\n      type: Array,\n      default: () => []\n    }\n  },\n  setup(props, context) {\n    const {\n      slots,\n      expose\n    } = context;\n    const select$1 = vue.ref();\n    const tree$1 = vue.ref();\n    const key = vue.computed(() => props.nodeKey || props.valueKey || \"value\");\n    const selectProps = select.useSelect(props, context, {\n      select: select$1,\n      tree: tree$1,\n      key\n    });\n    const {\n      cacheOptions: cacheOptions$1,\n      ...treeProps\n    } = tree.useTree(props, context, {\n      select: select$1,\n      tree: tree$1,\n      key\n    });\n    const methods = vue.reactive({});\n    expose(methods);\n    vue.onMounted(() => {\n      Object.assign(methods, {\n        ...lodashUnified.pick(tree$1.value, [\"filter\", \"updateKeyChildren\", \"getCheckedNodes\", \"setCheckedNodes\", \"getCheckedKeys\", \"setCheckedKeys\", \"setChecked\", \"getHalfCheckedNodes\", \"getHalfCheckedKeys\", \"getCurrentKey\", \"getCurrentNode\", \"setCurrentKey\", \"setCurrentNode\", \"getNode\", \"remove\", \"append\", \"insertBefore\", \"insertAfter\"]),\n        ...lodashUnified.pick(select$1.value, [\"focus\", \"blur\"])\n      });\n    });\n    return () => vue.h(index.ElSelect, vue.reactive({\n      ...selectProps,\n      ref: ref2 => select$1.value = ref2\n    }), {\n      ...slots,\n      default: () => [vue.h(cacheOptions[\"default\"], {\n        data: cacheOptions$1.value\n      }), vue.h(index$1[\"default\"], vue.reactive({\n        ...treeProps,\n        ref: ref2 => tree$1.value = ref2\n      }))]\n    });\n  }\n});\nvar TreeSelect = /* @__PURE__ */pluginVue_exportHelper[\"default\"](_sfc_main, [[\"__file\", \"tree-select.vue\"]]);\nexports[\"default\"] = TreeSelect;","map":{"version":3,"names":["_sfc_main","vue","defineComponent","name","inheritAttrs","props","index","ElSelect","index$1","cacheData","type","Array","default","setup","context","slots","expose","select$1","ref","tree$1","key","computed","nodeKey","valueKey","selectProps","select","useSelect","tree","cacheOptions","cacheOptions$1","treeProps","useTree","methods","reactive","onMounted","Object","assign","lodashUnified","pick","value","h","ref2","data"],"sources":["../../../../../../packages/components/tree-select/src/tree-select.vue"],"sourcesContent":["<script lang=\"ts\">\n// @ts-nocheck\nimport { computed, defineComponent, h, onMounted, reactive, ref } from 'vue'\nimport { pick } from 'lodash-unified'\nimport ElSelect from '@element-plus/components/select'\nimport ElTree from '@element-plus/components/tree'\nimport { useSelect } from './select'\nimport { useTree } from './tree'\nimport CacheOptions from './cache-options'\n\nexport default defineComponent({\n  name: 'ElTreeSelect',\n  // disable `ElSelect` inherit current attrs\n  inheritAttrs: false,\n  props: {\n    ...ElSelect.props,\n    ...ElTree.props,\n    /**\n     * @description The cached data of the lazy node, the structure is the same as the data, used to get the label of the unloaded data\n     */\n    cacheData: {\n      type: Array,\n      default: () => [],\n    },\n  },\n  setup(props, context) {\n    const { slots, expose } = context\n\n    const select = ref<InstanceType<typeof ElSelect>>()\n    const tree = ref<InstanceType<typeof ElTree>>()\n\n    const key = computed(() => props.nodeKey || props.valueKey || 'value')\n\n    const selectProps = useSelect(props, context, { select, tree, key })\n    const { cacheOptions, ...treeProps } = useTree(props, context, {\n      select,\n      tree,\n      key,\n    })\n\n    // expose ElTree/ElSelect methods\n    const methods = reactive({})\n    expose(methods)\n    onMounted(() => {\n      Object.assign(methods, {\n        ...pick(tree.value, [\n          'filter',\n          'updateKeyChildren',\n          'getCheckedNodes',\n          'setCheckedNodes',\n          'getCheckedKeys',\n          'setCheckedKeys',\n          'setChecked',\n          'getHalfCheckedNodes',\n          'getHalfCheckedKeys',\n          'getCurrentKey',\n          'getCurrentNode',\n          'setCurrentKey',\n          'setCurrentNode',\n          'getNode',\n          'remove',\n          'append',\n          'insertBefore',\n          'insertAfter',\n        ]),\n        ...pick(select.value, ['focus', 'blur']),\n      })\n    })\n\n    return () =>\n      h(\n        ElSelect,\n        /**\n         * 1. The `props` is processed into `Refs`, but `v-bind` and\n         * render function props cannot read `Refs`, so use `reactive`\n         * unwrap the `Refs` and keep reactive.\n         * 2. The keyword `ref` requires `Ref`, but `reactive` broke it,\n         * so use function.\n         */\n        reactive({\n          ...selectProps,\n          ref: (ref) => (select.value = ref),\n        }),\n        {\n          ...slots,\n          default: () => [\n            h(CacheOptions, { data: cacheOptions.value }),\n            h(\n              ElTree,\n              reactive({\n                ...treeProps,\n                ref: (ref) => (tree.value = ref),\n              })\n            ),\n          ],\n        }\n      )\n  },\n})\n</script>\n"],"mappings":";;;;;;;;;;;;;AAUA,MAAKA,SAAA,GAAaC,GAAA,CAAAC,eAAa;EAC7BC,IAAM;EAENC,YAAc;EACdC,KAAO;IACL,GAAGC,KAAA,CAAAC,QAAS,CAAAF,KAAA;IACZ,GAAGG,OAAA,WAAO,CAAAH,KAAA;IAIVI,SAAW;MACTC,IAAM,EAAAC,KAAA;MACNC,OAAA,EAASA,CAAA,KAAM;IAAC;EAClB,CACF;EACAC,MAAMR,KAAA,EAAOS,OAAS;IACd;MAAEC,KAAA;MAAOC;IAAW,IAAAF,OAAA;IAE1B,MAAMG,QAAA,GAAShB,GAAA,CAAAiB,GAAmC;IAClD,MAAMC,MAAA,GAAOlB,GAAA,CAAAiB,GAAiC;IAE9C,MAAME,GAAA,GAAMnB,GAAA,CAAAoB,QAAS,OAAMhB,KAAA,CAAMiB,OAAW,IAAAjB,KAAA,CAAMkB,QAAA,IAAY,OAAO;IAE/D,MAAAC,WAAA,GAAcC,MAAA,CAAAC,SAAA,CAAUrB,KAAO,EAAAS,OAAA,EAAS;MAAAW,MAAA,EAAER,QAAQ;MAAAU,IAAA,EAAAR,MAAA;MAAMC;IAAA,CAAK;IACnE,MAAM;MAAAQ,YAAA,EAAEC,cAAA;MAAA,GAAiBC;IAAc,IAAAH,IAAA,CAAAI,OAAA,CAAQ1B,KAAA,EAAOS,OAAS;MAAAW,MAAA,EAC7DR,QAAA;MAAAU,IAAA,EACAR,MAAA;MACAC;IAAA,CACD;IAGK,MAAAY,OAAA,GAAU/B,GAAA,CAAAgC,QAAS,GAAE;IAC3BjB,MAAA,CAAOgB,OAAO;IACd/B,GAAA,CAAAiC,SAAA,CAAU,MAAM;MACdC,MAAA,CAAOC,MAAA,CAAOJ,OAAS;QACrB,GAAGK,aAAA,CAAAC,IAAK,CAAAnB,MAAA,CAAKoB,KAAO,GAClB,UACA,qBACA,mBACA,mBACA,kBACA,kBACA,cACA,uBACA,sBACA,iBACA,kBACA,iBACA,kBACA,WACA,UACA,UACA,gBACA,cACD;QACD,GAAGF,aAAA,CAAAC,IAAK,CAAArB,QAAA,CAAOsB,KAAA,EAAO,CAAC,SAAS,MAAM,CAAC;MAAA,CACxC;IAAA,CACF;IAEM,aACLtC,GAAA,CAAAuC,CACE,CAAAlC,KAAA,CAAAC,QAAA,EAQAN,GAAA,CAAAgC,QAAS;MACP,GAAGT,WAAA;MACHN,GAAK,EAACuB,IAAS,IAAAxB,QAAA,CAAOsB,KAAQ,GAAAE;IAAA,CAC/B,CACD;MACE,GAAG1B,KAAA;MACHH,OAAA,EAASA,CAAA,KAAM,CACbX,GAAA,CAAAuC,CAAA,CAAEZ,YAAA,WAAc;QAAEc,IAAM,EAAAb,cAAA,CAAaU;MAAA,CAAO,GAC5CtC,GAAA,CAAAuC,CAAA,CACEhC,OAAA,aACAP,GAAA,CAAAgC,QAAS;QACP,GAAGH,SAAA;QACHZ,GAAK,EAACuB,IAAS,IAAAtB,MAAA,CAAKoB,KAAQ,GAAAE;MAAA,CAC7B,CACH;IACF,CAEJ;EAAA;AAEN,CAAC","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}