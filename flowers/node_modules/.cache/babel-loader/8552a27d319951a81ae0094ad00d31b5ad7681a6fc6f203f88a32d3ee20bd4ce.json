{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nvar vue = require('vue');\nrequire('../../../utils/index.js');\nrequire('../../../hooks/index.js');\nvar runtime = require('../../../utils/vue/props/runtime.js');\nvar index = require('../../../hooks/use-namespace/index.js');\nvar index$1 = require('../../../hooks/use-same-target/index.js');\nvar vnode = require('../../../utils/vue/vnode.js');\nconst overlayProps = runtime.buildProps({\n  mask: {\n    type: Boolean,\n    default: true\n  },\n  customMaskEvent: {\n    type: Boolean,\n    default: false\n  },\n  overlayClass: {\n    type: runtime.definePropType([String, Array, Object])\n  },\n  zIndex: {\n    type: runtime.definePropType([String, Number])\n  }\n});\nconst overlayEmits = {\n  click: evt => evt instanceof MouseEvent\n};\nconst BLOCK = \"overlay\";\nvar Overlay = vue.defineComponent({\n  name: \"ElOverlay\",\n  props: overlayProps,\n  emits: overlayEmits,\n  setup(props, {\n    slots,\n    emit\n  }) {\n    const ns = index.useNamespace(BLOCK);\n    const onMaskClick = e => {\n      emit(\"click\", e);\n    };\n    const {\n      onClick,\n      onMousedown,\n      onMouseup\n    } = index$1.useSameTarget(props.customMaskEvent ? void 0 : onMaskClick);\n    return () => {\n      return props.mask ? vue.createVNode(\"div\", {\n        class: [ns.b(), props.overlayClass],\n        style: {\n          zIndex: props.zIndex\n        },\n        onClick,\n        onMousedown,\n        onMouseup\n      }, [vue.renderSlot(slots, \"default\")], vnode.PatchFlags.STYLE | vnode.PatchFlags.CLASS | vnode.PatchFlags.PROPS, [\"onClick\", \"onMouseup\", \"onMousedown\"]) : vue.h(\"div\", {\n        class: props.overlayClass,\n        style: {\n          zIndex: props.zIndex,\n          position: \"fixed\",\n          top: \"0px\",\n          right: \"0px\",\n          bottom: \"0px\",\n          left: \"0px\"\n        }\n      }, [vue.renderSlot(slots, \"default\")]);\n    };\n  }\n});\nexports[\"default\"] = Overlay;\nexports.overlayEmits = overlayEmits;\nexports.overlayProps = overlayProps;","map":{"version":3,"names":["overlayProps","runtime","buildProps","mask","type","Boolean","default","customMaskEvent","overlayClass","definePropType","String","Array","Object","zIndex","Number","overlayEmits","click","evt","MouseEvent","BLOCK","Overlay","vue","defineComponent","name","props","emits","setup","slots","emit","ns","index","useNamespace","onMaskClick","e","onClick","onMousedown","onMouseup","index$1","useSameTarget","createVNode","class","b","style","renderSlot","vnode","PatchFlags","STYLE","CLASS","PROPS","h","position","top","right","bottom","left"],"sources":["../../../../../../packages/components/overlay/src/overlay.ts"],"sourcesContent":["import { createVNode, defineComponent, h, renderSlot } from 'vue'\nimport { PatchFlags, buildProps, definePropType } from '@element-plus/utils'\nimport { useNamespace, useSameTarget } from '@element-plus/hooks'\n\nimport type { CSSProperties, ExtractPropTypes } from 'vue'\nimport type { ZIndexProperty } from 'csstype'\n\nexport const overlayProps = buildProps({\n  mask: {\n    type: Boolean,\n    default: true,\n  },\n  customMaskEvent: {\n    type: Boolean,\n    default: false,\n  },\n  overlayClass: {\n    type: definePropType<string | string[] | Record<string, boolean>>([\n      String,\n      Array,\n      Object,\n    ]),\n  },\n  zIndex: {\n    type: definePropType<ZIndexProperty>([String, Number]),\n  },\n} as const)\nexport type OverlayProps = ExtractPropTypes<typeof overlayProps>\n\nexport const overlayEmits = {\n  click: (evt: MouseEvent) => evt instanceof MouseEvent,\n}\nexport type OverlayEmits = typeof overlayEmits\n\nconst BLOCK = 'overlay'\n\nexport default defineComponent({\n  name: 'ElOverlay',\n\n  props: overlayProps,\n  emits: overlayEmits,\n\n  setup(props, { slots, emit }) {\n    // No reactivity on this prop because when its rendering with a global\n    // component, this will be a constant flag.\n    const ns = useNamespace(BLOCK)\n\n    const onMaskClick = (e: MouseEvent) => {\n      emit('click', e)\n    }\n\n    const { onClick, onMousedown, onMouseup } = useSameTarget(\n      props.customMaskEvent ? undefined : onMaskClick\n    )\n\n    // init here\n    return () => {\n      // when the vnode meets the same structure but with different change trigger\n      // it will not automatically update, thus we simply use h function to manage updating\n      return props.mask\n        ? createVNode(\n            'div',\n            {\n              class: [ns.b(), props.overlayClass],\n              style: {\n                zIndex: props.zIndex,\n              },\n              onClick,\n              onMousedown,\n              onMouseup,\n            },\n            [renderSlot(slots, 'default')],\n            PatchFlags.STYLE | PatchFlags.CLASS | PatchFlags.PROPS,\n            ['onClick', 'onMouseup', 'onMousedown']\n          )\n        : h(\n            'div',\n            {\n              class: props.overlayClass,\n              style: {\n                zIndex: props.zIndex,\n                position: 'fixed',\n                top: '0px',\n                right: '0px',\n                bottom: '0px',\n                left: '0px',\n              } as CSSProperties,\n            },\n            [renderSlot(slots, 'default')]\n          )\n    }\n  },\n})\n"],"mappings":";;;;;;;;;;;;AAGY,MAACA,YAAY,GAAGC,OAAA,CAAAC,UAAU,CAAC;EACrCC,IAAI,EAAE;IACJC,IAAI,EAAEC,OAAO;IACbC,OAAO,EAAE;EACb,CAAG;EACDC,eAAe,EAAE;IACfH,IAAI,EAAEC,OAAO;IACbC,OAAO,EAAE;EACb,CAAG;EACDE,YAAY,EAAE;IACZJ,IAAI,EAAEH,OAAA,CAAAQ,cAAc,CAAC,CACnBC,MAAM,EACNC,KAAK,EACLC,MAAM,CACP;EACL,CAAG;EACDC,MAAM,EAAE;IACNT,IAAI,EAAEH,OAAA,CAAAQ,cAAc,CAAC,CAACC,MAAM,EAAEI,MAAM,CAAC;EACzC;AACA,CAAC;AACW,MAACC,YAAY,GAAG;EAC1BC,KAAK,EAAGC,GAAG,IAAKA,GAAG,YAAYC;AACjC;AACA,MAAMC,KAAK,GAAG,SAAS;AACvB,IAAAC,OAAA,GAAeC,GAAA,CAAAC,eAAe,CAAC;EAC7BC,IAAI,EAAE,WAAW;EACjBC,KAAK,EAAExB,YAAY;EACnByB,KAAK,EAAEV,YAAY;EACnBW,KAAKA,CAACF,KAAK,EAAE;IAAEG,KAAK;IAAEC;EAAI,CAAE,EAAE;IAC5B,MAAMC,EAAE,GAAGC,KAAA,CAAAC,YAAY,CAACZ,KAAK,CAAC;IAC9B,MAAMa,WAAW,GAAIC,CAAC,IAAK;MACzBL,IAAI,CAAC,OAAO,EAAEK,CAAC,CAAC;IACtB,CAAK;IACD,MAAM;MAAEC,OAAO;MAAEC,WAAW;MAAEC;IAAS,CAAE,GAAGC,OAAA,CAAAC,aAAa,CAACd,KAAK,CAACjB,eAAe,GAAG,KAAK,CAAC,GAAGyB,WAAW,CAAC;IACvG,OAAO,MAAM;MACX,OAAOR,KAAK,CAACrB,IAAI,GAAGkB,GAAA,CAAAkB,WAAW,CAAC,KAAK,EAAE;QACrCC,KAAK,EAAE,CAACX,EAAE,CAACY,CAAC,EAAE,EAAEjB,KAAK,CAAChB,YAAY,CAAC;QACnCkC,KAAK,EAAE;UACL7B,MAAM,EAAEW,KAAK,CAACX;QACxB,CAAS;QACDqB,OAAO;QACPC,WAAW;QACXC;MACR,CAAO,EAAE,CAACf,GAAA,CAAAsB,UAAU,CAAChB,KAAK,EAAE,SAAS,CAAC,CAAC,EAAEiB,KAAA,CAAAC,UAAU,CAACC,KAAK,GAAGF,KAAA,CAAAC,UAAU,CAACE,KAAK,GAAGH,KAAA,CAAAC,UAAU,CAACG,KAAK,EAAE,CAAC,SAAS,EAAE,WAAW,EAAE,aAAa,CAAC,CAAC,GAAG3B,GAAA,CAAA4B,CAAC,CAAC,KAAK,EAAE;QAC7IT,KAAK,EAAEhB,KAAK,CAAChB,YAAY;QACzBkC,KAAK,EAAE;UACL7B,MAAM,EAAEW,KAAK,CAACX,MAAM;UACpBqC,QAAQ,EAAE,OAAO;UACjBC,GAAG,EAAE,KAAK;UACVC,KAAK,EAAE,KAAK;UACZC,MAAM,EAAE,KAAK;UACbC,IAAI,EAAE;QAChB;MACA,CAAO,EAAE,CAACjC,GAAA,CAAAsB,UAAU,CAAChB,KAAK,EAAE,SAAS,CAAC,CAAC,CAAC;IACxC,CAAK;EACL;AACA,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}